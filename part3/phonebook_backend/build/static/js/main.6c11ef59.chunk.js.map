{"version":3,"sources":["services.js","Notification.js","App.js","index.js"],"names":["baseUrl","services","axios","get","then","response","data","person","post","id","delete","concat","put","Notification","_ref","message","status","react_default","a","createElement","className","Filter","filter","handleFilterChange","value","onChange","Form","props","onSubmit","handleSubmit","newName","handleChange","newNumber","handleNumberChange","type","Persons","_ref2","persons","onDelete","personsToShow","String","name","toLowerCase","indexOf","map","key","number","onClick","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setFilter","_useState9","_useState10","notificationMessage","setNotificationMessage","_useState11","_useState12","notifStatus","setNotifStatus","setNotif","setTimeout","useEffect","src_Notification_0","App_Filter","e","target","App_Form","preventDefault","newPerson","some","window","confirm","find","changedPerson","catch","error","console","log","alert","App_Persons","p","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.6c11ef59.chunk.js","sourcesContent":["import axios from 'axios';\n\nconst baseUrl = \"/api/persons\";\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => {\n        return response.data\n    })\n}\n\nconst add = (person) => {\n    const request = axios.post(baseUrl, person)\n    return request.then(response => {\n        return response.data\n    })\n}\n\nconst remove = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => {\n        return response.data\n    })\n}\n\nconst update = (person) => {\n    const request = axios.put(`${baseUrl}/${person.id}`, person)\n    return request.then(response => {\n        return response.data\n    })\n}\n\nexport default { getAll, add, remove, update }","import React from 'react';\nimport './Notification.css';\n\nconst Notification = ({ message, status }) => {\n    return (\n        <div className=\"notification\">\n            <p className={status}>{message}</p>\n        </div>\n    )}\n\nexport default Notification;","import React, { useState, useEffect } from 'react'\nimport services from './services';\nimport Notification from './Notification';\n\nconst App = () => {\n    const [persons, setPersons] = useState([])\n    const [newName, setNewName] = useState('')\n    const [newNumber, setNewNumber] = useState('')\n    const [filter, setFilter] = useState('')\n    const [notificationMessage, setNotificationMessage] = useState('')\n    const [notifStatus, setNotifStatus] = useState('')\n\n    const handleChange = (e) => {\n        setNewName(e.target.value);\n    }\n\n    const handleNumberChange = (e) => {\n        setNewNumber(e.target.value);\n    }\n\n    const handleFilterChange = (e) => {\n        setFilter(e.target.value);\n    }\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        const newPerson = {name: newName, number: newNumber}\n        if (persons.some((person) => person.name === newName)) {\n            if(window.confirm(`${newName} is already in the phone book. Do you want to update the number?`)) {\n                const newPerson = persons.find(person => person.name === newName);\n                newPerson.number = newNumber;\n                services\n                    .update(newPerson)\n                    .then(changedPerson => {\n                        setPersons(persons.map(person => (person.id === changedPerson.id) ? changedPerson : person ))\n                    })\n                    .catch((error) => {\n                        console.log(error)\n                        setNotif(`${newPerson.name} has already been deleted from the phonebook`, 'error')\n                    })\n            }\n        } else if (persons.some((person) => person.number === newNumber)) {\n            alert(`${newNumber} is already in the phone book`)\n        } else {\n            services\n                .add(newPerson)\n                .then(person => {\n                    setPersons(persons.concat(person))\n                    setNewName('')\n                    setNewNumber('')\n                    setNotif(`Added ${person.name}`, 'ok')\n                })\n        }\n    }\n\n    const setNotif = (message, status) => {\n        setNotificationMessage(message)\n        setNotifStatus(status)\n        setTimeout(() => {\n            setNotificationMessage(null)\n        }, 5000)\n    }\n\n    useEffect(() => {\n        services\n            .getAll()\n            .then(persons => {\n                setPersons(persons)\n            })\n    }, [])\n\n    const onDelete = (person) => {\n        if(window.confirm(`Do you want to delete ${person.name}`)) {\n            services\n                .remove(person.id)\n                .then(response => {\n                    setPersons(persons.filter(p => person.id !== p.id))\n                })\n        }\n    }\n\n    return (\n        <div>\n            <h2>Phonebook</h2>\n            <Notification message={notificationMessage} status={notifStatus}/>\n            <Filter filter={filter} handleFilterChange={handleFilterChange} />\n            <h3>Add a new</h3>\n            <Form handleSubmit={handleSubmit} handleChange={handleChange}\n                newName={newName} newNumber={newNumber}\n                handleNumberChange={handleNumberChange} />\n            <h2>Numbers</h2>\n            <Persons persons={persons} filter={filter} onDelete={onDelete}/>\n        </div>\n    )\n}\n\nconst Filter = ({ filter, handleFilterChange }) => (\n    <div>\n        filter shown with <input value={filter} onChange={handleFilterChange} />\n    </div>\n)\n\nconst Form = (props) => {\n    return (\n        <form onSubmit={props.handleSubmit}>\n            <div>\n                name: <input value={props.newName} onChange={props.handleChange} />\n            </div>\n            <div>\n                number: <input value={props.newNumber} onChange={props.handleNumberChange} />\n            </div>\n            <div>\n                <button type=\"submit\">add</button>\n            </div>\n        </form>\n    )\n}\n\nconst Persons = ({ persons, filter, onDelete }) => {\n    const personsToShow = persons.filter(person => {\n        const name = String(person.name)\n        return name.toLowerCase().indexOf(filter) !== -1;\n    })\n    return (\n        <div>\n            {personsToShow.map(person => \n                <div key={`${person.id}`}>\n                    <p key={`label${person.id}`}>{person.name} {person.number}</p>\n                    <button key={`button${person.id}`} onClick={() => onDelete(person)}>Delete</button>\n                </div>\n            )}\n        </div>\n    )\n}\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}